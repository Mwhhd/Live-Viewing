<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Camera + Location Demo</title>
</head>
<body>
  <h2>Camera & Location Test</h2>
  <p>This page will access your camera and location only after you allow permission.</p>

  <video id="video" width="320" height="240" autoplay></video><br><br>
  <button onclick="capture()">Capture Photo + Location</button>

  <canvas id="canvas" width="320" height="240" style="display:none;"></canvas>

  <h3>Result</h3>
  <img id="photo" width="320"><br>
  <pre id="info"></pre>

  <script>
    // Start camera
    navigator.mediaDevices.getUserMedia({ video: true })
      .then(stream => document.getElementById("video").srcObject = stream)
      .catch(() => alert("Camera permission denied"));

    // Capture function
    function capture() {
      navigator.geolocation.getCurrentPosition(
        position => {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;

          const canvas = document.getElementById("canvas");
          const ctx = canvas.getContext("2d");
          const video = document.getElementById("video");

          // Take photo
          ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

          // Show photo in browser
          document.getElementById("photo").src = canvas.toDataURL("image/png");

          // Show location info and Google Maps link
          document.getElementById("info").textContent =
            `Latitude: ${lat}\nLongitude: ${lon}\n` +
            `Map: https://maps.google.com/?q=${lat},${lon}`;
        },
        () => alert("Location permission denied")
      );
    }
  </script>
</body>
</html>


